



<!DOCTYPE html>
<head>

<script type="text/javascript">
function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(location.hash);
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

window.onload = function() {
	<!-- Create form -->
	
	var form = document.createElement("FORM");
	form.method = "POST";
	var symVal = "";
	var hash = location.hash;
	var appId="";
	var appCode="";
	if (symVal == "")
	{
		symVal = getParameterByName("symbol");
		appId=getParameterByName("appId");
		appCode=getParameterByName("appCode");
	}
	
	if (location.hash)
	{	
		var ind = location.hash.indexOf("symbol=")
		if( ind == -1)
		{
			hash = location.hash + "?symbol=" + symVal + "&appCode=" + appCode;
		}
	}
	else
	{
		hash = "#/research?symbol=" + symVal + "&appCode=" + appCode;
	}
	form.action = "/fidresearch/snapshot/landing.jhtml" + hash;
	form.style.display = "none";
	document.body.appendChild(form);
	<!-- symbol input -->
	var input = document.createElement("INPUT");
	input.type = "hidden";
	input.name = "symbol";
	input.value = decodeURIComponent(symVal);
	form.appendChild(input);
	if(symVal != ""){input = document.createElement("INPUT");
	input.type = "hidden";
	input.name = "appId";
	input.value = decodeURIComponent(appId);
	form.appendChild(input);
	}
	if(appCode != ""){
		input = document.createElement("INPUT");
		input.type = "hidden";
		input.name = "appCode";
		input.value = decodeURIComponent(appCode);
		form.appendChild(input);
	}
	var cookieValue = getCookie("uo");
	if (cookieValue != null) {
		setCookie("uo", cookieValue, new Date((new Date()).getTime()
				+ Math.abs(60) * 1000));
	}
	cookieValue = getCookie("stockUo");
	if (cookieValue != null) {
		setCookie("stockUo", cookieValue, new Date((new Date()).getTime()
				+ Math.abs(60) * 1000));
	} 
    form.submit();
}       
function getCookie(name) {
	var re = new RegExp(name + "=([^;]+)");
	var value = re.exec(document.cookie);
	return (value != null) ? unescape(value[1]) : null;
}

function setCookie(name, value, expiry) {
	console.log("cookie :"+name);
	document.cookie = name + "=" + escape(value) + "; domain=.fidelity.com; expires="
			+ expiry.toGMTString() + "; path=/";
} 
</script>
</head>
<body>
<script type="text/javascript" >var _cf = _cf || []; _cf.push(['_setFsp', true]);  _cf.push(['_setBm', true]);  _cf.push(['_setAu', '/libraries/1bac2e4c0no1671f22d882ca5422a20']); </script><script type="text/javascript"  src="/libraries/1bac2e4c0no1671f22d882ca5422a20"></script></body>
</html>