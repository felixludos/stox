<?xml version="1.0" encoding="iso-8859-1" ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><title>KWEB | Portfolio Exposure</title><link rel="stylesheet" type="text/css" href="/fidelity/screeners/resources/style/css.asp?name=Style.Common&files=38|47&version=0" media="all" /></head><body><div id="WSOD"><div class="sliding-nav leftSideBar">





























































<link href="https://www.fidelity.com/webcontent/ap010098-etf-content/20.11.0/css/toc.css" rel="stylesheet" type="text/css" media="screen, print"/>





<script>
var newwindow;
function openWinTOC(url){
	var width = 810;
	var height = 795;
	var left = 80;
	var top = 80;
	var scrollbar = 'scrollbars=yes';
	if(openWinTOC.arguments.length > 1){
		width = openWinTOC.arguments[1];
		height = openWinTOC.arguments[2];
	}
	if(openWinTOC.arguments.length > 3){
		left = openWinTOC.arguments[3];
		top = openWinTOC.arguments[4];
		scrollbar = 'scrollbars=no';
		if (screen.width <= 800){
			top=19;
			left=309;
		}
	}
	if(!newwindow || newwindow.closed){
		newwindow = window.open(url,'newwindow','resizable=yes,' + scrollbar + ',menubar=no,toolbar=no,width=' + width + ',height=' + height + ',left=' + left + ',top=' + top + ',screenX=20,screenY=20');
	}
	else{
		newwindow.location.replace(url);
	}
	newwindow.focus();
}

function changeAction(selectNode){
	var actionValue = selectNode.options[selectNode.selectedIndex].value;
	var form = document.forms['search'];
	form.action = actionValue;
}
function openAdvancedChart(url, symbolValue){
	var targetName = symbolValue.replace(".","").replace("/","").replace("-","");
	var advChartWin = window.open(url,targetName,"titlebar=no, toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, width=860, height=780,top=60");
	advChartWin.focus();
}
</script>


	
	
		
	
	




























































<script type="text/javascript">
    var isAuthorized = false;    
    var isRetailCustomer = false;
</script>



<script type="text/javascript" src="https://www.fidelity.com/webcontent/ap010098-etf-content/20.11.0/js/snapshot.js"></script>
<script type="text/javascript">
	function ofPageInit()
	{				
		checkPrint();
	}
    var personal_server = "https://www.fidelity.com";
    var ac_domain = "https://www.fidelity.com";        
    var pl_domain = "https://www.fidelity.com";
    var scs_domain = "https://www.fidelity.com";
    var fh_domain = "https://www.fidelity.com";
    var fq_domain = "https://fastquote.fidelity.com";
    var wsod_domain = "https://research2.fidelity.com";
    var contentPath = "/webcontent/ap010098-etf-content/20.11.0";
    var scsContentPath = "/webcontent/ap010098-etf-content/20.11.0";
    var er_domain = "";
    var symbolTextBoxClicked = false;
    fmrProductid="etf"; 

</script>
<script type="text/javascript">
   	var newwindow;
	function openWin(url){
		var width = 820;
		var height = 795;
		var left = 80;
		var top = 80;
		var scrollbar = 'scrollbars=yes';
		if(openWin.arguments.length > 1){
			width = openWin.arguments[1];
			height = openWin.arguments[2];
		}
		if(openWin.arguments.length > 3){
			left = openWin.arguments[3];
			top = openWin.arguments[4];
			scrollbar = 'scrollbars=no';
			if (screen.width <= 800){
				top=19;
				left=309;
			}
		}
		if(!newwindow || newwindow.closed){
			newwindow = window.open(url,'newwindow','resizable=yes,' + scrollbar + ',menubar=no,toolbar=no,width=' + width + ',height=' + height + ',left=' + left + ',top=' + top + ',screenX=20,screenY=20');
		}
		else{
			newwindow.location.replace(url);
		}
		newwindow.focus();
	}
</script>






	<script type="text/javascript" src="https://www.fidelity.com/rct/2.0.0/dojo/dojo/dojo.xd.js" djconfig="parseOnLoad: true, isDebug:false"></script>
	<script type="text/javascript" src="https://www.fidelity.com/rct/2.0.0/rct-ui/rct-ui.js"></script>





	
		<script type="text/javascript" src="https://www.fidelity.com/common/always-cached/embeddedquotes/1.1/js/embeddedquotes.js.shtml"></script>
	
	



<script type="text/javascript" src="https://www.fidelity.com/webcontent/ap010098-etf-content/20.11.0/js/etf.js"></script>

<script type="text/javascript" src="https://www.fidelity.com/webcontent/ap010098-etf-content/20.11.0/silverlight/ClientBin/ChartBridge.js"></script>

<script language="JavaScript" type="text/javascript">
dojo.addOnLoad(function() {
	var isRetailCustomer = false;
	if(typeof window.isRetailCustomer != "undefined"){ 
		isRetailCustomer = window.isRetailCustomer;
    }
	if(!isRetailCustomer) {
		dojo.query("#snapshotChart .lock-image").style("display","inline");
	} else {
		dojo.query("#snapshotChart .lock-image").style("display","none");
	}
});
</script>

	



<div id="Fidelity">

	<div class="toc-wrapper">
		<div class="stock-details">
			<div class="navhead"><h2>ETF / ETP Details</h2></div>
				<div class="content-stock-details">
					<h3><label for="symbol">Enter Name or Symbol<span class="off-screen">. Press down arrow for suggestions, or Escape to return to entry field.</span></label></h3>
					<div class="form-box">
					<form id="search" action="https://screener.fidelity.com/ftgw/etf/snapshot/snapshot.jhtml" method="GET" onsubmit="return onFormSubmit(this)">
					
					<input class="symtxt" autocomplete="OFF" onfocus="symbolTextBoxClicked=true" onkeypress="symbolTextBoxClicked=true" id="symbol" name="symbols" type="text" size="3" maxlength="32"><br/>
					<div class="acResults" id="resultPane"></div>
	        		<div class="acError" id="errorPane"></div>
	        		<div id="debug"></div>
					<span id="domesticoptions">
					<span class="off-screen"><label for="rRDDom">View this information for the company or symbol</label></span>
					<select id="rRDDom" class="dd" title="Snapshot" onchange="javascript:this.title=this.options[this.selectedIndex].title;changeAction(this)">
						<option title="Snapshot" value="https://screener.fidelity.com/ftgw/etf/snapshot/snapshot.jhtml" selected>Snapshot</option>
						<option title="Detailed Quote" value="https://screener.fidelity.com/ftgw/etf/snapshot/quote.jhtml">Detailed Quote</option>
						<option title="Performance & Risk" value="https://screener.fidelity.com/ftgw/etf/snapshot/performance.jhtml">Performance & Risk</option>
						<option title="Portfolio Composition" value="https://screener.fidelity.com/ftgw/etf/snapshot/portfolioComposition.jhtml">Portfolio Composition</option>			
						<option title="Advanced Chart & Technical Analysis" value="https://screener.fidelity.com/ftgw/etf/gotoCL/snapshot/advancedChart.jhtml">Adv Chart & Technical..</option>
						<option title="News, Commentary & Events" value="https://screener.fidelity.com/ftgw/etf/snapshot/newsEvents.jhtml">News, Commentary & Events</option>
						<option title="Compare" value="https://screener.fidelity.com/ftgw/etf/snapshot/compare.jhtml">Compare</option>
						<option title="Analyst Opinions" value="https://screener.fidelity.com/ftgw/etf/snapshot/analystOpinions.jhtml">Analyst Opinions</option>
						<option title="Key Statistics" value="https://screener.fidelity.com/ftgw/etf/snapshot/keyStatistics.jhtml">Key Statistics</option>
						<option title="Distributions & Expenses" value="https://screener.fidelity.com/ftgw/etf/snapshot/distributions.jhtml">Distributions & Expenses</option>		
						<option title="Ownership" value="https://screener.fidelity.com/ftgw/etf/snapshot/ownership.jhtml">Ownership</option>
						<option title="SEC Filings" value="https://screener.fidelity.com/ftgw/etf/snapshot/secFilings.jhtml">SEC Filings</option>
					</select>
					</span><input id="rRDG" type="submit" value="Go" class="button" />
					
					<div class="link"><a href="javascript:openWinTOC('https://quotes.fidelity.com/webxpress/popup_lookup.phtml', 454, 491, 478, 133)">Find Symbol<span class="off-screen">. Opens in new window.</span></a></div>

					</form>
				</div>
			</div>
		</div>
		<div class="author-layout-spacer-left"></div>
		<div class="toc">
		<div class="navhead">
			<h2>ETF / ETP Research &amp; Ideas</h2>
		</div>
		<div class="navcontent">

			<ul class="last">
			    <li><a href="https://screener.fidelity.com/ftgw/etf/evaluator/goto/landing" target="_top" >ETF /    ETP Research</a></li>
				<li><a href="https://research2.fidelity.com/fidelity/screeners/etf/index.asp?page=landing.asp" target="_top" >Screener</a></li>	
				<li><a href="https://research2.fidelity.com/fidelity/screeners/etf/heatmap.asp?page=marketMap" target="_top" >Market Tracker</a></li>
				<li><a href="https://research2.fidelity.com/fidelity/screeners/etf/index.asp?strategytype=expert&page=strategies.asp" target="_top" >Expert Screening Strategies</a><span class="auto-padlock"></span></li>
				<li><a href="https://research2.fidelity.com/fidelity/commentary/main.asp?page=commentary" target="_top" >Commentary</a></li>
				<li><a href="https://research2.fidelity.com/fidelity/research/reports/release2/ExploreETFResearchFirms.asp?page=researchFirms" target="_top" >Explore Research Firms</a></li>							
			</ul>
			</div>
		</div>
		
		<div class="stock-links-bricklet">
	
			<h3>RELATED RESOURCES</h3>
			<ul>
				<li><a target="_top" href="https://www.fidelity.com/learning-center/investment-products/etf/overview">Education</a></li>
				<li><a target="_top" href="https://eresearch.fidelity.com/eresearch/goto/markets_sectors/landing.jhtml">Markets & Sectors</a></li>
				<li><a target="_top" href="https://fastquote.fidelity.com/ftgw/GetWatchlistFrame.phtml">Watch List </a><span class="auto-padlock-notRetailCustomer"></span></li>				
			</ul>
		</div>
	</div>
</div>
<script>
	var rRDDomSelect = document.getElementById("rRDDom");
	rRDDomSelect.title = rRDDomSelect.options[rRDDomSelect.selectedIndex].title;
</script><a href="javascript:void(0)" id="btn-nav-expander" title="Navigation Expander" class="btn-nav-expander"></a></div><div class='main'><div class='header-bar hasLayout'><h3 class='num-results'>Basket Holdings: 44<span class='timestamp'>AS OF --</span></h3><div class='view-selector'><select id='select-switch-view' name='view' class='hidden'><option value='Explore'>Explore Basket Holdings</option><option value='Holdings'>All Basket Holdings</option><option value='Region' selected='selected'>Region/Country</option></select></div><div class='pager' id='pager-bar'></div></div><table class='results-table sortable' cellspacing='0'><thead><tr><th scope='col' class='Symbol '><a class='sortable' href='?symbol=KWEB&amp;view=Region&amp;sortBy=Symbol&amp;sortDir=asc'>Symbol</a></th><th scope='col' class='Company '><a class='sortable' href='?symbol=KWEB&amp;view=Region&amp;sortBy=SecurityName&amp;sortDir=asc'>Company</a></th><th scope='col' class='Geography '><a class='sortable' href='?symbol=KWEB&amp;view=Region&amp;sortBy=Country&amp;sortDir=asc'>Geography</a></th><th scope='col' class='Weight  sorted sorted-desc'><a class='sortable' href='?symbol=KWEB&amp;view=Region&amp;sortBy=Weighting&amp;sortDir=asc'>Weight</a></th></tr></thead><tbody><tr class='highlight'><td class='col-symbol'>00700</td><td class='col-undefined'>Tencent Holdings Ltd</td><td class='col-undefined'>China</td><td class='col-undefined'>9.65</td></tr><tr><td class='col-symbol'>03690</td><td class='col-undefined'>Meituan</td><td class='col-undefined'>China</td><td class='col-undefined'>8.23</td></tr><tr class='highlight'><td class='col-symbol'>PDD</td><td class='col-undefined'>Pinduoduo Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>8.02</td></tr><tr><td class='col-symbol'>BABA</td><td class='col-undefined'>Alibaba Group Holding Ltd ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>7.80</td></tr><tr class='highlight'><td class='col-symbol'>JD</td><td class='col-undefined'>JD.com Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>6.34</td></tr><tr><td class='col-symbol'>BIDU</td><td class='col-undefined'>Baidu Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>4.50</td></tr><tr class='highlight'><td class='col-symbol'>06618</td><td class='col-undefined'>JD Health International Inc</td><td class='col-undefined'>China</td><td class='col-undefined'>4.25</td></tr><tr><td class='col-symbol'>NTES</td><td class='col-undefined'>NetEase Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>4.19</td></tr><tr class='highlight'><td class='col-symbol'>TAL</td><td class='col-undefined'>TAL Education Group ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>4.12</td></tr><tr><td class='col-symbol'>BILI</td><td class='col-undefined'>Bilibili Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>4.02</td></tr><tr class='highlight'><td class='col-symbol'>TCOM</td><td class='col-undefined'>Trip.com Group Ltd ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>3.86</td></tr><tr><td class='col-symbol'>BEKE</td><td class='col-undefined'>KE Holdings Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>3.77</td></tr><tr class='highlight'><td class='col-symbol'>VIPS</td><td class='col-undefined'>Vipshop Holdings Ltd ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>3.05</td></tr><tr><td class='col-symbol'>00241</td><td class='col-undefined'>Alibaba Health Information Technology Ltd</td><td class='col-undefined'>China</td><td class='col-undefined'>2.81</td></tr><tr class='highlight'><td class='col-symbol'>LU</td><td class='col-undefined'>Lufax Holding Ltd ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>2.43</td></tr><tr><td class='col-symbol'>TME</td><td class='col-undefined'>Tencent Music Entertainment Group ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>2.25</td></tr><tr class='highlight'><td class='col-symbol'>00909</td><td class='col-undefined'>Ming Yuan Cloud Group Holdings Ltd Ordinary Shares</td><td class='col-undefined'>China</td><td class='col-undefined'>1.69</td></tr><tr><td class='col-symbol'>01833</td><td class='col-undefined'>Ping An Healthcare And Technology Co Ltd Ordinary Shares</td><td class='col-undefined'>China</td><td class='col-undefined'>1.64</td></tr><tr class='highlight'><td class='col-symbol'>06060</td><td class='col-undefined'>ZhongAn Online P&C Insurance Co Ltd Ordinary Shares - Class H</td><td class='col-undefined'>China</td><td class='col-undefined'>1.56</td></tr><tr><td class='col-symbol'>03888</td><td class='col-undefined'>Kingsoft Corp Ltd</td><td class='col-undefined'>China</td><td class='col-undefined'>1.40</td></tr><tr class='highlight'><td class='col-symbol'>ATHM</td><td class='col-undefined'>Autohome Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>1.40</td></tr><tr><td class='col-symbol'>IQ</td><td class='col-undefined'>iQIYI Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>1.23</td></tr><tr class='highlight'><td class='col-symbol'>GSX</td><td class='col-undefined'>GSX Techedu Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>1.15</td></tr><tr><td class='col-symbol'>YY</td><td class='col-undefined'>JOYY Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>1.09</td></tr><tr class='highlight'><td class='col-symbol'>00772</td><td class='col-undefined'>China Literature Ltd Ordinary Shares</td><td class='col-undefined'>China</td><td class='col-undefined'>0.94</td></tr><tr><td class='col-symbol'>KC</td><td class='col-undefined'>Kingsoft Cloud Holdings Ltd ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.89</td></tr><tr class='highlight'><td class='col-symbol'>CD</td><td class='col-undefined'>Chindata Group Holdings Ltd ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.85</td></tr><tr><td class='col-symbol'>DADA</td><td class='col-undefined'>Dada Nexus Ltd ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.77</td></tr><tr class='highlight'><td class='col-symbol'>02013</td><td class='col-undefined'>Weimob Inc</td><td class='col-undefined'>China</td><td class='col-undefined'>0.76</td></tr><tr><td class='col-symbol'>API</td><td class='col-undefined'>Agora Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.67</td></tr><tr class='highlight'><td class='col-symbol'>WB</td><td class='col-undefined'>Weibo Corp ADR Class A</td><td class='col-undefined'>China</td><td class='col-undefined'>0.66</td></tr><tr><td class='col-symbol'>SINA</td><td class='col-undefined'>SINA Corp</td><td class='col-undefined'>China</td><td class='col-undefined'>0.59</td></tr><tr class='highlight'><td class='col-symbol'>JOBS</td><td class='col-undefined'>51job Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.58</td></tr><tr><td class='col-symbol'>00780</td><td class='col-undefined'>Tongcheng-Elong Holdings Ltd</td><td class='col-undefined'>China</td><td class='col-undefined'>0.49</td></tr><tr class='highlight'><td class='col-symbol'>MOMO</td><td class='col-undefined'>Momo Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.48</td></tr><tr><td class='col-symbol'>BZUN</td><td class='col-undefined'>Baozun Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.47</td></tr><tr class='highlight'><td class='col-symbol'>DOYU</td><td class='col-undefined'>DouYu International Holdings Ltd ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.41</td></tr><tr><td class='col-symbol'>01060</td><td class='col-undefined'>Alibaba Pictures Group Ltd</td><td class='col-undefined'>Hong Kong</td><td class='col-undefined'>0.40</td></tr><tr class='highlight'><td class='col-symbol'>HUYA</td><td class='col-undefined'>HUYA Inc ADR</td><td class='col-undefined'>China</td><td class='col-undefined'>0.33</td></tr><tr><td class='col-symbol'>01797</td><td class='col-undefined'>Koolearn Technology Holding Ltd</td><td class='col-undefined'>China</td><td class='col-undefined'>0.31</td></tr><tr class='highlight'><td class='col-symbol'>09923</td><td class='col-undefined'>Yeahka Ltd Ordinary Shares</td><td class='col-undefined'>China</td><td class='col-undefined'>0.24</td></tr><tr><td class='col-symbol'></td><td class='col-undefined'>Hong Kong Dollar</td><td class='col-undefined'>Hong Kong</td><td class='col-undefined'>0.21</td></tr><tr class='highlight'><td class='col-symbol'></td><td class='col-undefined'>Cash&dagger;</td><td class='col-undefined'>United States</td><td class='col-undefined'>0.18</td></tr><tr><td class='col-symbol'>09990</td><td class='col-undefined'>Archosaur Games Inc Ordinary Shares</td><td class='col-undefined'>China</td><td class='col-undefined'>0.15</td></tr></tbody></table></div><div class='disclaimer disclaimer-Region'><p>&dagger;Part or all of this cash position may represent cash-in-lieu of marketable securities and not actual cash.<a href="javascript:openWin('https://www.fidelity.com/webcontent/ap010098-etf-content/19.11.0/help/research/learn_er_glossary_1.shtml#cashinlieumarketablesecurities')">Click here for more information.</a></p><div id='holdings-disclaimer'><p class='strong'>Top <a id="basketGlossaryLink" href="javascript:void(0)">basket</a> holdings are as of the date indicated and may not be representative of the fund's current or future investments.</p></div></div><script language="javascript" type="text/javascript">

var tradeUrl = 'https://oltx.fidelity.com/ftgw/fbc/oftrade/snippet/quickTradeStandAlone';

window.onload = function(){

	$(document).ready(function() {
		
		var featureToggle = 'on';
		
	    var isBrowserCompatible = false;
	    
	    var queryString='login=yes';
		var loggedIn = "no";
		if (queryString != null && queryString != undefined) {
			
			if (queryString != "") {
				var querySplit = queryString.split("=");
				
				if (querySplit.length > 1) {
					if (querySplit[0] == 'login') {
						loggedIn = querySplit[1];
					}
				}
			}
		}
		
		// this is using the comment based html markup on next gen that sets the html class based on which version
		// of IE the user's current browser is. lt-ie10 stands for less than IE10. So this is a good check for IE9 and older.
		var ieVersion = getInternetExplorerVersion();

		if (ieVersion == -1 || ieVersion >= 10) {
			isBrowserCompatible = true;
		}
		else
		{
		    isBrowserCompatible = false;
		}

		$('body').prepend
		(
			'<div class="docked-top-container" style="display:none;">'
			+	'<div class="docked-trade-ticket" id="dockedTicketContainer" role="dialog" aria-label="docked-trade-ticket"></div>'
			+	'<div id="dockedTicketBrowserCompatability" style="display:none;">' + isBrowserCompatible + '</div>'
			+	'<div id="dockedTicketEnabledEntitlement"  style="display:none;">true</div>'
			+	'<div id="dockedTicketPreference"  style="display:none;">true</div>'
			+	'<div id="dockedTicketLoggedInState"  style="display:none;">' + loggedIn + '</div>'
			+	'<div id="ticketBootstrapped"  style="display:none;">true</div>'
			+   '<div id="featureToggle"  style="display:none;">' + featureToggle + '</div>'
			+   '<div class="base-popup base-modal--container base-modal--container-large terms-of-use-modal trade-ticket-modal"></div>'
			+   '<div class="base-popup base-modal--container base-modal--container-large extended-hours-trading-modal trade-ticket-modal"></div>'
			+   '<div class="base-popup base-modal--container base-modal--container-large select-a-fund-i-own-modal trade-ticket-modal" role="dialog" aria-labelledby="select-a-fund-i-own--header"></div>'
			+   '<div class="base-popup base-modal--container base-modal--container-large additional-important-information-modal trade-ticket-modal" role="dialog" aria-labelledby="additional-important-information--header"></div>'
			+   '<div class="docked-ticket-remove-popup"></div>'
			+   '<div class="docked-additional-important-information"></div>'
			+	'<div class="trade-container" id="tradeTicketContainer"></div>'
			+'</div>'	
		);
		//insert a placeholder for the docked TT
		
		if (isBrowserCompatible === true && featureToggle == 'on' && loggedIn == 'yes')
		{
			// fetch the trade ticket	
			$("<div id='dockedComponents' style='z-index: 99999997; left: 0; width:100%; position:absolute; bottom: 0;'></div>").appendTo(".docked-top-container");		
			$.ajax({
				  type: 'GET',
				  url: tradeUrl,
				  contentType: 'text/plain',
				  xhrFields: {
				    withCredentials: true
				  },
	
				  headers: {
				  },
				  success: function(response) {
					  $("#dockedComponents").html(response);
				  },
				  error: function (xhRequest, ErrorText, thrownError) {
				      console.log("CORS Error while importing DOCKED TT: " + xhRequest.responseText)
				  }
				});

		}
	});
	
}

function getInternetExplorerVersion() {
  var rv = -1;
  if (navigator.appName == 'Microsoft Internet Explorer'){
    var ua = navigator.userAgent;
    var re  = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
    if (re.exec(ua) != null)
      rv = parseFloat( RegExp.$1 );
  }
  else if (navigator.appName == 'Netscape'){
    var ua = navigator.userAgent;
    var re  = new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})");
    if (re.exec(ua) != null)
      rv = parseFloat( RegExp.$1 );
  }
  return rv;
}

function seedATicket(jsonInput) {
	
	//fetch the state variables
	var browserCompatability = false;
	var dockedEntitled = false;
	var dockedPreference = true;
	var loggedInState = false;
	var featureToggle = 'off';
	var featureToggleDiv = $('#featureToggle');
	if (featureToggleDiv != null || featureToggleDiv != undefined) {
		featureToggle = featureToggleDiv.html();
	}
	var browserCompatabilityDiv = $('#dockedTicketBrowserCompatability');
	if (browserCompatabilityDiv != null || browserCompatabilityDiv != undefined) {
		browserCompatability = browserCompatabilityDiv.html();
	}
	var dockedEntitledDiv = $('#dockedTicketEnabledEntitlement');
	if (dockedEntitledDiv != null || dockedEntitledDiv != undefined) {
		dockedEntitled = dockedEntitledDiv.html();
	}
	var dockedPreferenceDiv = $('#dockedTicketPreference');
	if (dockedPreferenceDiv != null || dockedPreferenceDiv != undefined) {
		dockedPreference = dockedPreferenceDiv.html();
	}
	var loggedInStateDiv = $('#dockedTicketLoggedInState');
	if (loggedInStateDiv != null || loggedInStateDiv != undefined) {
		loggedInState = loggedInStateDiv.html();
	}
	
	// fetch data to seed from json input
	var seedingParams = fetchParams(jsonInput);

	var securityType = seedingParams.securityType;
	
	if (browserCompatability == 'false' || dockedEntitled == 'false' || dockedPreference == 'false' || featureToggle != 'on'){
		//if not showing docked, then rebuild link
		var url = rebuildTradeLink(jsonInput);
		window.open(url,"_self");
	} else if (securityType == 'H' || securityType == 'F' || securityType == 'BT' || securityType == 'MLO' || securityType == 'CT' || securityType == 'X') {
		//if not showing docked, then rebuild link
		var url = rebuildTradeLink(jsonInput);
		window.open(url,"_self");
	} else if(loggedInState == 'no' || loggedInState == 'member'){
		// [PIATQTR-3635] set flag to open float ticket.
		setSessionStorage("openFloatTicket", true);
		var orderInfo = {
			'SYMBOL' : seedingParams.symbol,
			'ORDER_TYPE' : seedingParams.securityType,
			'ORDER_ACTION' : seedingParams.orderAction,
			'LIMIT_STOP_PRICE' : seedingParams.limitStopPrice
		};
		var tradeInfo = {
			'orderInfo' : orderInfo
		};
		setSessionStorage("tradeInfo", JSON.stringify(tradeInfo));

		var redirectUrl = $(location).attr('href');
		$(location).attr('href','https://login.fidelity.com/ftgw/Fas/Fidelity/RtlCust/Login/Init?AuthRedUrl='+redirectUrl);
	} else {
		//test for float on page
		var quickTradewrapper = $('.quick-trade-popup-wrapper');
		if (quickTradewrapper == null || quickTradewrapper == undefined || quickTradewrapper.length == 0) {
			//if float is not present, reopen it
			openNewFloat(seedingParams);
			
		} else {
			//if floating ticket is present, attempt to seed ticket 
			populateExistingTicket(seedingParams);			
		}
	}	
}

function fetchParams(jsonInput) {
	
	var symbol = "symbol";
	var securityType = "securityType";
	var orderAction = "orderAction";
	var limitStopPrice = "limitStopPrice";
	var results = {};
	
	for(var i=0;i<jsonInput.length;i++){
        var obj = jsonInput[i];
        for(var key in obj){
            var attrName = key;
            var attrValue = obj[key];          
            if (attrName == 'SECURITY_ID') {
    			results.symbol = decodeURIComponent(attrValue);
    		} else if (attrName == 'SECURITY_TYPE' || attrName == 'ORDER_TYPE') {
    			results.securityType = attrValue;
    		} else if (attrName == 'ORDER_ACTION') {
    			results.orderAction = attrValue;
    		} else if (attrName == 'LIMIT_STOP_PRICE') {
    			results.limitStopPrice = decodeURIComponent(attrValue);
    		}             
            else {
    			//do nothing
    		}	
        }
    }
		
	return results;
}

function populateExistingTicket(seedingParams) {
	
	var closeButton = $(".close-qt");
	if (closeButton != null || closeButton != undefined) {
		closeButton.trigger('click');
		openNewFloat(seedingParams);
	}
	else {
	
		var symbolBox = $("#qt-symbol");
		if (symbolBox != null || symbolBox != undefined) {
			symbolBox.val(seedingParams.symbol);
			symbolBox.trigger('blur');
		}
	}
}

function openNewFloat(seedingParams) {
	var orderInfo = {
			'SYMBOL' : seedingParams.symbol,
			'ORDER_TYPE' : seedingParams.securityType,
			'ORDER_ACTION' : seedingParams.orderAction,
			'LIMIT_STOP_PRICE' : seedingParams.limitStopPrice
			}	
	var tradeInfo = {
		'orderInfo' : orderInfo
	}

	this.tradeInfo = tradeInfo;
	
	$(document).trigger("QUICK_TRADE", tradeInfo);
}

function rebuildTradeLink(jsonInput) {
	
	var url = "https://oltx.fidelity.com/ftgw/fbc/oftrade/EntrOrder?";
	var first = true;
	
	for(var i=0;i<jsonInput.length;i++){
        var obj = jsonInput[i];
        for(var key in obj){
            var attrName = key;
            var attrValue = obj[key];          
            if (first) {
    			url = url + attrName + "=" + attrValue;
    			first = false;
    		} else {
    			url = url + "&" + attrName + "=" + attrValue;
    		}	
        }
    }
	return url;
}

function setSessionStorage(key, val) {
	if(typeof(Storage) !== "undefined") {
		sessionStorage.setItem(key, val);
	}
}
</script><!-- CPU: 47 --><div class="wsod-document-footer"><script type="text/javascript" src="/fidelity/screeners/resources/client/js.asp?name=Client.Lib&files=0|1|2|4|5|9|8&version=43768.74922453704"></script><script type="text/javascript" src="/fidelity/screeners/resources/client/js.asp?name=Client.Common&files=18|19|21|16|32&version=0"></script><script type="text/javascript">(new ETFHoldingsPage()).init({startRow : 0,numPerPage : 25,numRows : 44,view : 'Region',FidelityUrls : {"eresearch":"http://eresearch.fidelity.com","agreement":"https://agreements.fidelity.com/ftgw/nUA/Control/QnRDisplayForm?WETransform=QnRNuaentry&Appname=FIDNASD&ReturnURL=","oltx":"https://oltx.fidelity.com","webxpress":"https://webxpress.fidelity.com","watchlists":"https://watchlists.fidelity.com","mlo":"https://researchtools.fidelity.com","portfolioreview":"https://portfolioreview.fidelity.com","personal":"https://www.fidelity.com","fixedIncome":"http://fixedincome.fidelity.com","screener":"http://screener.fidelity.com","WSOD":"http://research2.fidelity.com/fidelity"},FidelityWSAttr : 'escreener'});window._waq = window._waq || []; (function() {var domain = 'oda.markitondemand.com'; _waq.push(['_setup', {reportingid: '588680', domain: domain }]); var wa = document.createElement('script'); wa.type = 'text/javascript'; wa.async = true; wa.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + domain + '/js/wa.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(wa, s);})();</script></div></div></body></html>